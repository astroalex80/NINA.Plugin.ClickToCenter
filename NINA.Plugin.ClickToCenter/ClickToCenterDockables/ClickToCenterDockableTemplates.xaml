<ResourceDictionary
    x:Class="NINA.Plugin.ClickToCenter.ClickToCenterDockables.MyPluginDockableTemplates"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:NINA.Plugin.ClickToCenter.ClickToCenterDockables"
    xmlns:ninactrl="clr-namespace:NINA.CustomControlLibrary;assembly=NINA.CustomControlLibrary"
    xmlns:ns="clr-namespace:NINA.Core.Locale;assembly=NINA.Core"
    xmlns:wpfbase="clr-namespace:NINA.WPF.Base.View;assembly=NINA.WPF.Base">

    <DataTemplate x:Key="NINA.Plugin.ClickToCenter.ClickToCenterDockables.ClickToCenterDockable_Dockable">
        <wpfbase:ImageView Image="{Binding LastImage}" RightMouseButtonDownCommand="{Binding SetClickPointCommand}">
            <wpfbase:ImageView.ButtonHeaderContent>
                <StackPanel
                    Height="40"
                    Margin="0,0,5,0"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,15,0"
                        VerticalAlignment="Center"
                        Text="1) Right-Click on the image to select a target position." />
                    <ninactrl:CancellableButton
                        Height="35"
                        Margin="2.5"
                        Padding="10,0,10,2"
                        HorizontalAlignment="Stretch"
                        ButtonText="{ns:Loc LblSlewCenter}"
                        CancelButtonImage="{StaticResource CancelSVG}"
                        CancelCommand="{Binding CancelCenterCommand}"
                        CancelToolTip="{ns:Loc LblCancel}"
                        Command="{Binding CenterCommand}"
                        ToolTip="Slew and center telescope on the crosshair coordinates" />
                    <ninactrl:CancellableButton
                        Width="35"
                        Height="35"
                        Margin="2.5"
                        Padding="10,0,10,2"
                        HorizontalAlignment="Stretch"
                        ButtonImage="{StaticResource FocusAssistantSVG}"
                        CancelButtonImage="{StaticResource CancelSVG}"
                        CancelCommand="{Binding CancelCenterCommand}"
                        CancelToolTip="{ns:Loc LblCancel}"
                        Command="{Binding SendCoordinatesToFramingAssistantCommand}"
                        ToolTip="Send coordinates to the Framing Assistant" />
                    <!--
                    <Button
                        Width="35"
                        Height="35"
                        Margin="2.5"
                        VerticalAlignment="Center"
                        HorizontalContentAlignment="Right"
                        Command="{Binding SendCoordinatesToFramingAssistantCommand}"
                        ToolTip="">
                        <Grid>
                            <Path
                                Margin="5"
                                Data="{StaticResource FocusAssistantSVG}"
                                Fill="{StaticResource ButtonForegroundBrush}"
                                Stretch="Uniform" />
                        </Grid>
                    </Button>
                    -->
                </StackPanel>
            </wpfbase:ImageView.ButtonHeaderContent>
            <wpfbase:ImageView.ImageAreaContent>
                <Canvas IsHitTestVisible="False">
                    <Path
                        Canvas.Left="{Binding CrosshairLeft}"
                        Canvas.Top="{Binding CrosshairTop}"
                        Width="{Binding CrosshairSize}"
                        Height="{Binding CrosshairSize}"
                        Data="M0.5,0 L0.5,0.4 M0.5,0.6 L0.5,1 M0,0.5 L0.4,0.5 M0.6,0.5 L1,0.5 M0.35,0.5 A 0.15,0.15 1 1 1 0.35,0.50001 M0.4,0.5 A 0.1,0.1 1 1 1 0.4,0.50001 M0.45,0.5 A 0.05,0.05 1 1 1 0.45,0.50001 M0.48,0.5 A 0.02,0.02 1 1 1 0.48,0.50001"
                        Stretch="Uniform"
                        Stroke="{StaticResource CrosshairBrush}"
                        StrokeThickness="2"
                        UseLayoutRounding="True">
                        <Path.Style>
                            <Style TargetType="Path">
                                <Setter Property="Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding HasClickPoint}" Value="True">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Path.Style>
                    </Path>
                </Canvas>
            </wpfbase:ImageView.ImageAreaContent>
        </wpfbase:ImageView>
    </DataTemplate>

    <!--  This geometrygroup defines a custom SVG to be used with the plugin dockable  -->
    <GeometryGroup x:Key="NINA.Plugin.ClickToCenter_CrosshairSVG">
        <PathGeometry Figures="M 272.531,238.505C 272.531,219.948 257.495,204.907 238.932,204.907C 220.375,204.907 205.333,219.948 205.333,238.505C 205.333,257.068 220.375,272.109 238.932,272.109C 257.495,272.109 272.531,257.068 272.531,238.505 Z M 238.932,256.109C 229.229,256.109 221.333,248.215 221.333,238.505C 221.333,228.803 229.229,220.907 238.932,220.907C 248.64,220.907 256.531,228.803 256.531,238.505C 256.531,248.215 248.64,256.109 238.932,256.109 Z " />
        <PathGeometry Figures="M 426.136,230.505C 424.213,183.147 404.907,139.095 371.307,105.709C 337.812,72.428 293.973,53.3333 247.041,51.308L 247.041,-0.426666L 231.041,-0.426666L 231.041,51.308C 183.573,53.2293 139.521,72.324 106.24,105.709C 72.9587,139.095 53.76,183.043 51.8387,230.505L 0,230.505L 0,246.505L 51.7347,246.505C 53.6507,293.443 72.8547,337.385 106.136,370.776C 139.625,404.376 183.683,423.683 230.932,425.6L 230.932,477.333L 246.932,477.333L 246.932,425.6C 293.76,423.573 337.708,404.376 371.307,370.776C 404.907,337.172 424.213,293.333 426.136,246.401L 477.864,246.401L 477.864,230.505M 246.932,67.308C 335.041,71.36 406.079,142.401 410.136,230.505L 374.828,230.505C 372.907,196.803 358.932,165.657 335.041,141.871C 311.255,118.292 280.213,104.537 246.932,102.615M 230.932,67.308L 230.932,102.615C 161.068,106.453 106.88,160.641 103.041,230.505L 67.7347,230.505C 71.6827,140.907 141.333,71.256 230.932,67.308 Z M 230.932,409.709C 142.828,405.657 71.7867,334.615 67.7347,246.505L 103.041,246.505C 104.959,279.896 118.719,310.933 142.292,334.615C 166.079,358.505 197.229,372.48 230.932,374.401M 230.932,323.735L 230.932,358.401C 171.093,354.453 123.093,306.453 119.041,246.505L 153.708,246.505L 153.708,230.505L 119.041,230.505C 122.88,169.709 170.027,122.453 230.932,118.615L 230.932,153.281L 246.932,153.281L 246.932,118.615C 306.771,122.563 354.771,170.563 358.828,230.505L 324.161,230.505L 324.161,246.505L 358.828,246.505C 354.88,306.349 306.88,354.349 246.932,358.401L 246.932,323.735M 246.932,409.709L 246.932,374.401C 315.625,370.349 370.771,315.204 374.828,246.505L 410.136,246.505C 406.079,334.615 335.041,405.657 246.932,409.709 Z " />
    </GeometryGroup>

</ResourceDictionary>